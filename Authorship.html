<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Paul Julian II, PhD - Authorship Agreement</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./images/SWE_logo_small.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/SWE_logo_small.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Paul Julian II, PhD</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./blog.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/SwampThingPaul" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/paul-julian/" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://fosstodon.org/@SwampThingPaul" rel="" target=""><i class="bi bi-mastodon" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:pauljulianphd@gmail.com" rel="" target=""><i class="bi bi-envelope" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#guidelines-for-authorship1" id="toc-guidelines-for-authorship1" class="nav-link active" data-scroll-target="#guidelines-for-authorship1">Guidelines for Authorship<sup>1</sup></a>
  <ul class="collapse">
  <li><a href="#authorship-criteria" id="toc-authorship-criteria" class="nav-link" data-scroll-target="#authorship-criteria"><strong>Authorship Criteria</strong></a></li>
  <li><a href="#author-order-and-etiquette" id="toc-author-order-and-etiquette" class="nav-link" data-scroll-target="#author-order-and-etiquette"><strong>Author Order and Etiquette</strong></a></li>
  <li><a href="#a-living-document" id="toc-a-living-document" class="nav-link" data-scroll-target="#a-living-document"><strong>A Living Document</strong></a></li>
  <li><a href="#duty-as-a-co-author" id="toc-duty-as-a-co-author" class="nav-link" data-scroll-target="#duty-as-a-co-author"><strong>Duty as a co-author</strong></a></li>
  <li><a href="#diversity-of-contributions" id="toc-diversity-of-contributions" class="nav-link" data-scroll-target="#diversity-of-contributions">Diversity of contributions</a></li>
  <li><a href="#reference" id="toc-reference" class="nav-link" data-scroll-target="#reference">Reference</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Authorship Agreement</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="guidelines-for-authorship1" class="level1">
<h1>Guidelines for Authorship<sup>1</sup></h1>
<p><sup>1</sup>Adapted from the Saltmarsh Habitat &amp; Avian Research Program (<a href="https://www.tidalmarshbirds.org/" target="_blank">https://www.tidalmarshbirds.org/</a>) Guidelines for Authorship Standard Operating Procedure.</p>
<hr>
<p>Deciding authorship on scientific publications can be complicated because practices and cultural norms vary across disciplines and even across labs within the same discipline. This is especially relevant in ecology, where standardized guidelines are lacking and a diversity of options exist for deciding authorship and author order. These guidelines outline a set of criteria for authorship determinations. These criteria are presented as guidelines, because a common set of expectations is important to maintain mutual satisfaction among co- authors. We recognize, however, that some flexibility will be required and communication is essential to the process. Before all else, remember <strong>conversations regarding authorship for each manuscript should happen early, frequently, openly, and inclusively</strong>. A conversation should be expected when the paper is first conceived and should be revisited periodically as each project develops.</p>
<section id="authorship-criteria" class="level2">
<h2 class="anchored" data-anchor-id="authorship-criteria"><strong>Authorship Criteria</strong></h2>
<p>Authorship on a manuscript is warranted when a researcher has made a substantial contribution to the manuscript in question (not the overall project as a whole), as defined by any <strong>two</strong> of the following:</p>
<ul>
<li><p>Conceiving of ideas and/or study design and/or analytical approach</p></li>
<li><p>Writing of the manuscript (or sections)</p></li>
<li><p>Reviewing and editing the manuscript</p></li>
<li><p>Analyzing data</p></li>
<li><p>Interpreting results</p></li>
<li><p>Collecting data in field or lab (except in rare circumstances this will not include temporary technicians)</p></li>
<li><p>Creating or managing critical databases (e.g.&nbsp;demographic database, historical abundance estimates spreadsheet)</p></li>
<li><p>Obtaining funding (e.g., proposal writing, grant management, and project reports)</p></li>
</ul>
<p>Other things are important to keep in mind (expanded upon in the sections below).</p>
<ul>
<li><p><em>A conversation is necessary for each manuscript</em></p></li>
<li><p><em>Consider thresholds of effort (“could the study have been done without the contribution?”)</em></p></li>
<li><p><em>Offer further involvement</em></p></li>
<li><p><em>Use inclusion to deal with uncertainty (“better to be inclusive than to exclude”)</em></p></li>
<li><p><em>Primary authors and their advisors/PIs/mentors will make the final decision on authorship</em></p></li>
<li><p><em>Invite prior individuals (alumni) to participate when appropriate</em></p></li>
<li><p><em>There are exceptions for grant deliverables.</em></p></li>
<li><p><strong><em>When in doubt, talk it out!</em></strong></p></li>
</ul>
<p><em>Consider Thresholds of Effort</em></p>
<p>Ultimately, the primary author must have some leeway in making authorship decisions, and ensuring that a certain minimum threshold of contribution has been made. When the level of the contribution to the particular manuscript is unclear (e.g.&nbsp;as in the case of data collection), the deciding question becomes “could the study have been done without that person’s contribution?”</p>
<p>For instance, did the extra work amount to a few data points within a huge dataset (if the analysis was enhanced by their participation, but was possible without it, authorship may not be warranted), or were the data points critical to establishing the pattern (if the analysis is impossible without the data from this study site, or if trends depend on those data, authorship is more clearly warranted). Other considerations: If a researcher is collecting data for a study that is not their own, did they do extra work that they would not otherwise have done on their own study site or for their own study (if so, the case for authorship increases)? Did the effort amount to a few days of fieldwork (may not warrant authorship) or a season’s worth of logistics and data collection (more clearly warrants authorship)?</p>
<p><em>Offer Further Involvement</em></p>
<p>In some instances, a contributor may have clearly passed a threshold of effort (see previous), but will have only contributed to one of the categories that would qualify them for consideration of authorship. In these instances, it is the primary author’s responsibility to reach out to the contributor early in the writing process and have a conversation about further involvement. The second category can be easily achieved by assistance with developing and reviewing the manuscript, and contributors that have clearly passed a threshold of effort should be given that opportunity.</p>
<p><em>Use Inclusion to Deal with Uncertainty</em></p>
<p>Recognize that the contribution of effort is a gradient with clear endpoints (one data point out of two probably gets you authorship, one data point out of 1,000 probably doesn’t), so there will likely be situations where it is unclear (200 data points out of 1,000?). If there is any uncertainty in gauging the contribution, it is better to be inclusive than to exclude, and it is better to talk directly to the contributor explicitly. A quick phone call made in a spirit of inclusion can almost always improve the situation for everyone, both for this manuscript and for future collaboration.</p>
<p><em>Invite Alumni to Participate when Appropriate</em></p>
<p>As data collected by others who have moved on are used in analysis, we need to give them credit for their prior work. If the data have already been published in another form and their papers can be cited, this may be enough. Authorship may be warranted or offered, however, under several circumstances. First, if the individual was involved in the conception of the ideas in the new manuscript, this would warrant their inclusion. Second, if the new manuscript is based largely on the data (or conceptual groundwork) of a single individual (similar to the rules for contemporary contributors, could the analysis be completed without their data?), authorship should be considered. If the previous work of prior individuals passes the Threshold of Effort test for any reason, the burden is on the PI involved to offer the opportunity for further engagement in the new manuscript to new individuals, preferably early in the process. If prior individuals respond positively and stay involved, then they should be authors on the new work. Prior individuals are responsible for deciding to stay engaged and following through with their involvement. Importantly, prior individuals should understand that if they do not respond to inquiries about authorship, historical datasets can still be used, but they will not be included as authors. This same approach may be followed for the advisors of prior individuals if they pass the Threshold.</p>
</section>
<section id="author-order-and-etiquette" class="level2">
<h2 class="anchored" data-anchor-id="author-order-and-etiquette"><strong>Author Order and Etiquette</strong></h2>
<p>The order of authors on publications will follow the practice of first-last author emphasis. The first author will be the person who did the majority of the work, carried out the study, and will often be a the primary writer of the manuscript. Typically, the last author should be the lab PI. “Credit” or “importance” is attributed to authors in the following order: first, last, 2<sup>nd</sup>, 3<sup>rd</sup>, 4<sup>th</sup>, etc. Final decisions regarding author order ultimately lie with the first author, in consultation with their advisor, PI or mentor. Authors that disagree with the draft author order, however, should feel comfortable voicing their concerns. More importantly, primary authors should ask specifically for co-authors to approve the final order via email.</p>
<p>Anyone listed as an author must be given a fair opportunity to read and comment on the manuscript. If prospective authors do not respond in a reasonable amount of time, they should be removed, barring exceptional circumstances (the response could be as simple as “manuscript is good to go”, as long as the author acknowledges and approves the content). The lead author should give AT LEAST two weeks for the response period and should specify a date by which comments are due. Two corollaries of this guideline are 1) anyone has the right to request removal as author from a paper for any reason, including a personal judgment of failure to cross the Threshold for Effort, and 2) no one should ever be an author on a manuscript where they did not approve the final submitted draft (note that many journals have this requirement).</p>
<p>It is the primary author’s responsibility, as corresponding author, to provide all co-authors with:</p>
<ul>
<li><p>A digital version of the final submitted draft</p></li>
<li><p>News of all significant correspondence with the editor/publisher</p></li>
<li><p>The opportunity to assist with revisions</p></li>
<li><p>A digital version of all revisions submitted for publication and the responses to reviewers</p></li>
<li><p>Page proofs and the opportunity to comment on them</p></li>
<li><p>A final pdf of all published papers</p></li>
</ul>
</section>
<section id="a-living-document" class="level2">
<h2 class="anchored" data-anchor-id="a-living-document"><strong>A Living Document</strong></h2>
<p>Expectations for authorship are a set of evolving cultural norms. This means that 1) they must be taught anew to each set of students and/or new individual early in their involvement with the project and 2) the guidelines in this document need to be revisited and updated regularly (~annually or as needed).</p>
<hr>
<!---
## For Fun

When authorship is equal and all participating authors opt for random author order (and everyone participated equally) you can draw names out of a hat...or make a hat draw in #rstats. 


::: {.cell}

```{.r .cell-code}
set.seed(1)

authors=c("Author_Name_1", "Author_Name_2",
          "Author_Name_3", "Author_Name_4",
          "Author_Name_5", "Author_Name_6")
auth.order=c()
for(i in 1:length(authors)){
  pull=sample(authors,1);#Sample from author list
  authors=authors[!(authors%in%pull)];#Remove sampled author from existing list

  auth.order=rbind(auth.order,pull)
}
auth.order
```
:::


***
--->
</section>
<section id="duty-as-a-co-author" class="level2">
<h2 class="anchored" data-anchor-id="duty-as-a-co-author"><strong>Duty as a co-author</strong></h2>
<p>The dissemination of research to the broader scientific community is not only part of the research process, but perhaps the ultimate reason for conducting research in the first place. There is an expectation and responsibility to share one’s work with the broader community (Cooke et al.&nbsp;2014). It goes without saying that composing a manuscript by committee can be difficult. Co-authorship comes about in a variety of ways some of which may not require a formal role in writing but rather the collection of data, editing of the manuscript, etc. Some manuscripts are planned in advanced and have the luxury of identfying the core author pool. Other manuscripts are produced <em>ad-hoc</em>. Regardless of the origin it is recommended that if the manuscript has more than two authors it is advisable that a lead author along with a supporting person (typically senior author assumes this role) be identified. The objective of having two (or more) authors is to have these individuals generate a paper that is as close to final as possible, after all <em>two-eyes are better than one</em>. Letting other co-authors know that the paper is ready to move forward in the eyes of both the lead senior authors will often help to elicit a rapid review and response by co-authors.</p>
<p>Everyone is busy, therefore some degree of time-management is needed when composing an manuscript. Therefore it is recommended that tentative deadlines/time-periods are discussed early and often. If necessary these deadline can be revised as needed due to changing priorities within reason but make sure these changes are communicated amongst all authors. Once a draft manuscript is produced and ready for co-author input provide a reasonable review deadline (couple of weeks). <em>Typically</em>, if co-authors are unresponsive its not they don’t find the manuscript important. It is possible that it has been shuffled down the dreaded <em>“to do”</em> list or they just forgot. This has happened to all of us at some point. Therefore a simple reminder would be helpful to re-engage the co-authors. Below is a flow chart from Cooke et al.&nbsp;(2014) with a suggested example of sequence of events to work with tardy or non-responsive co-authors.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/authorship/Cooke et al_Fig1.jpg" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption class="figure-caption">Flow-diagram with a possile sequence of events for working with tardy or non-responsive co-authors when preparing a manuscript for submission to a journal. From Cooke et al.&nbsp;(2014).</figcaption>
</figure>
</div>
</div>
</div>
<p>As suggested above, if co-authors are completely unresponsive it is the lead authors progrative, with input from co-authors to remove unresponsive co-authors. The Committee on Publication Ethics (<a href="https://publicationethics.org/authorship">COPE</a>), has additional guidance information regarding authorship and ethics.</p>
<hr>
</section>
<section id="diversity-of-contributions" class="level2">
<h2 class="anchored" data-anchor-id="diversity-of-contributions">Diversity of contributions</h2>
<p>Journals are increasingly requiring authors to specify roles according to author contributions. The days of honorary authorship is slowly (too slowly) coming to an end. However, there are many other aspects of research that are not adequately captured by the generally recognized short list of contributing roles, particularly in applied environmental disciplines such as conservation science, environmental science and applied ecology (herein referred to as conservation science). Cooke et al.&nbsp;(2021) provides some additional context and consideration to authorship guidelines reviewing existing and proposing potential expanded contributors roles.</p>
<p><strong>Bottom line</strong></p>
<p><em>Points summarized from the abstract of Cook et al.&nbsp;(2021).</em></p>
<ul>
<li><p>Authorship should acknowledge and reward those deserving of credit. Being an author on a paper also means that one assumes some degree of ownership of the content, regardless of the authorship order. (Something, it feels, has been forgotten recently)</p></li>
<li><p>The growing recognition that authorship should reflect contributions that extend beyond the usual data collection, analysis and writing provides the ideal backdrop for rethinking contributions in conservation science. Cook et al.&nbsp;(2021) propose a more inclusive approach to authorship that recognizes and values diverse contributions and contributors using an expanded list of defined roles.</p></li>
</ul>
<hr>
</section>
<section id="reference" class="level2">
<h2 class="anchored" data-anchor-id="reference">Reference</h2>
<ul>
<li><p>Cooke SJ, Donaldson MR, Clark TD (2014) Practical guidance for early career researchers dealing with tardy or unresponsive co-authors. Ideas in Ecology and Evolution. 1(7). <a href="https://ojs.library.queensu.ca/index.php/IEE/article/view/5484" target="_blank">Link</a>.</p></li>
<li><p>Cooke SJ, Nguyen VM, Young N, et al (2021) Contemporary authorship guidelines fail to recognize diverse contributions in conservation science research. Ecological Solutions and Evidence 2:e12060. <a href="https://doi.org/10.1002/2688-8319.12060" target="_blank">Link</a>.</p></li>
<li><p>Saltmarsh Habitat &amp; Avian Research Program (2014) Guidelines for authorship. Saltmarsh Habitat &amp; Avian Research Program. <a href="https://www.tidalmarshbirds.org/" target="_blank">https://www.tidalmarshbirds.org/</a>.</p></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© CC-By Paul Julian II</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This page is built with ❤️ and <a href="https://quarto.org/">Quarto</a></div>
  </div>
</footer>



</body></html>